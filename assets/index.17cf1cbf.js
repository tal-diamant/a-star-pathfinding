import{j as _,r as j,R as U,a as $}from"./vendor.5f9fb97c.js";const B=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))h(l);new MutationObserver(l=>{for(const t of l)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&h(r)}).observe(document,{childList:!0,subtree:!0});function e(l){const t={};return l.integrity&&(t.integrity=l.integrity),l.referrerpolicy&&(t.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?t.credentials="include":l.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function h(l){if(l.ep)return;l.ep=!0;const t=e(l);fetch(l.href,t)}};B();function D(n){const i=new Array(n);for(let e=0;e<i.length;e++)i[e]=new Array(n);return i}function H(n,i,e,h,l){this.x=n,this.y=i,this.wayFromStart=0,this.wayToEnd=0,this.wayTotal=0,this.previous=null,this.dimensions=20,this.neighbors=[],this.wall=!1,this.ctx=e,this.gridStartX=h.width/2-l*this.dimensions/2,this.gridStartY=h.height/2-l*this.dimensions/2,this.positionX=this.x*this.dimensions+this.gridStartX,this.positionY=this.y*this.dimensions+this.gridStartY,Math.random()<.3&&(this.wall=!0),this.drawSelf=function(t,r){e.beginPath(),e.rect(this.positionX,this.positionY,this.dimensions,this.dimensions),e.fillStyle=t,this.wall&&(e.fillStyle="black"),e.fill(),e.stroke(),r&&(e.fillStyle="rgba(255,255,255,0.35)",e.fill(),e.stroke()),e.closePath()},this.findNeighbors=function(t){const r=this.x,c=this.y,a=t.length;r<a-1&&this.neighbors.push(t[c][r+1]),r>0&&this.neighbors.push(t[c][r-1]),c<a-1&&this.neighbors.push(t[c+1][r]),c>0&&this.neighbors.push(t[c-1][r])},this.isPointInside=function(t,r){return t>this.positionX&&t<this.positionX+this.dimensions&&r>this.positionY&&r<this.positionY+this.dimensions},this.setWall=function(t){this.wall=t}}function L(n,i,e,h,l){switch(this.x=n,this.y=i,this.dimensions=20,this.ctx=e,this.type=l,this.type){case"empty":this.color="white";break;case"start":this.color="#3f3";break;case"end":this.color="red";break;case"wall":this.color="black";break;default:this.color="lightgray";break}this.drawSelf=function(t){e.beginPath(),e.rect(this.x,this.y,this.dimensions,this.dimensions),e.fillStyle=this.color,e.fill(),e.stroke(),t&&(e.fillStyle="rgba(255,255,255,0.35)",e.fill(),e.stroke()),e.closePath()},this.isPointInside=function(t,r){return t>this.x&&t<this.x+this.dimensions&&r>this.y&&r<this.y+this.dimensions},this.getType=function(){return this.type},this.setType=function(t){switch(this.type=t,this.type){case"empty":this.color="white";break;case"start":this.color="#3f3";break;case"end":this.color="red";break;case"wall":this.color="black";break;default:this.color="lightgray";break}}}function K(n,i){for(let e=n.length-1;e>=0;e--)n[e]===i&&n.splice(e,1)}function V(n,i){return Math.abs(n.x-i.x)+Math.abs(n.y-i.y)}const G=(n,i,e,h,l)=>{if(e.length>0){let t=0;for(let c=0;c<e.length;c++)e[c].wayTotal<e[t].wayTotal&&(t=c);n=e[t],K(e,n),h.push(n),n===l&&(console.log("DONE!"),i=!0);const r=n.neighbors;for(let c=0;c<r.length;c++){const a=r[c],F=n.wayFromStart+1;!h.includes(a)&&!a.wall&&(e.includes(a)?a.wayFromStart>F&&(a.wayFromStart=F,a.wayTotal=a.wayFromStart+a.wayToEnd,a.previous=n):(a.wayFromStart=F,a.wayToEnd=V(a,l),a.wayTotal=a.wayFromStart+a.wayToEnd,a.previous=n,e.push(a)))}return{current:n,isDone:i}}else return console.log("NO SOLUTION!"),i=!0,{current:n,isDone:i}},f=_.exports.jsx,C=_.exports.jsxs,J=()=>C("div",{children:[f("h1",{children:"A* path finding"}),f("hr",{})]});const Q=({state:n,pauseControl:i,changeFrameRate:e,nextFrame:h,clearExecution:l,setAutoplay:t,setRandomize:r})=>{const[c,a]=j.exports.useState(60),[F,y]=j.exports.useState(!1);return console.log("Controls got rerendered"),C("section",{className:"controls-wrapper",children:[C("div",{children:[f("label",{className:"fps-label",children:"FPS (frames per second):"}),f("input",{type:"number",size:"1",max:"100",value:c,onInput:w=>e(w,a)})]}),f("div",{children:f("button",{onClick:()=>l(y),children:"Clear"})}),f("div",{children:f("button",{onClick:()=>i(y),children:F?"Play":"Pause"})}),f("div",{children:f("button",{onClick:h,children:"next step"})}),C("div",{children:[f("label",{children:"Autoplay:"}),f("input",{type:"checkbox",onChange:()=>t(y)})]}),C("div",{children:[f("label",{children:"Randomize Board:"}),f("input",{type:"checkbox",onChange:r})]})]})};function Z(){console.log("App got rerendered");const n=j.exports.useRef(null);let i,e;j.exports.useEffect(()=>{i=n.current,e=i.getContext("2d"),i.addEventListener("mousemove",X),i.addEventListener("click",W),i.width=window.innerWidth;for(let s=0;s<m;s++)for(let d=0;d<m;d++)p[s][d]=new H(d,s,e,i,m);for(let s=0;s<m;s++)for(let d=0;d<m;d++)p[s][d].findNeighbors(p);T=i.width/2-70,R[0]=new L(T,30,e,i,"empty"),R[1]=new L(T+40,30,e,i,"start"),R[2]=new L(T+80,30,e,i,"end"),R[3]=new L(T+120,30,e,i,"wall"),A=new L(T+60,70,e,i),S=p[0][0],k=p[m-1][m-1],S.wall=!1,k.wall=!1,P.push(S),requestAnimationFrame(s=>Y(i,e,s))},[]);let h=!1,l=60,t,r=!1,c=!1,a=!1;const F=250;let y=!1,w=0,b=0,x=-1,O=-1;const P=[],I=[],m=15,p=new D(m),R=new Array(4);let T,A,S,k,g;function Y(s,d,E){t===void 0&&(t=E);const u=E-t;if(h||u<M(l))requestAnimationFrame(o=>Y(s,d,o));else{if(t=void 0,s.width=window.innerWidth,!y){const o=G(g,y,P,I,k);g=o.current,y=o.isDone,y&&r&&!a&&setTimeout(q,F),a=!1}R.forEach(o=>{o.drawSelf(o.isPointInside(w,b)),o.isPointInside(x,O)&&A.setType(o.type)}),A.drawSelf(A.isPointInside(w,b)),A.isPointInside(x,O)&&console.log(`type: ${A.type}`);for(let o=0;o<m;o++)for(let v=0;v<m;v++)if(p[o][v].drawSelf("white",p[o][v].isPointInside(w,b)),p[o][v].isPointInside(x,O))switch(console.log(`cell x: ${v}, cell y: ${o}`),A.type){case"empty":p[o][v].setWall(!1);break;case"start":S=p[o][v];break;case"end":k=p[o][v];break;case"wall":p[o][v].setWall(!0);break}for(let o=0;o<I.length;o++)I[o].drawSelf("orange",I[o].isPointInside(w,b));for(let o=0;o<P.length;o++)P[o].drawSelf("#afa",P[o].isPointInside(w,b));if(y&&g===S&&(g=k),g)for(g.drawSelf("blue",g.isPointInside(w,b));g.previous;)g=g.previous,g.drawSelf("#33f",g.isPointInside(w,b));k.drawSelf("red",k.isPointInside(w,b)),S.drawSelf("#3f3",S.isPointInside(w,b)),x=-1,O=-1,requestAnimationFrame(o=>Y(s,d,o))}}const X=s=>{w=s.offsetX,b=s.offsetY},W=s=>{x=s.offsetX,O=s.offsetY};function M(s){return Math.floor(1e3/s)}const z=(s,d)=>{l=s.target.value,d(s.target.value)},N=s=>{for(let d=0;d<m;d++)for(let E=0;E<m;E++){const u=p[d][E];u.wayFromStart=0,u.wayToEnd=0,u.wayTotal=0,u.previous=null,c&&u!==S&&u!==k&&(u.wall=Math.random()<.3),u!==S&&u!==k&&!u.wall&&u.drawSelf("white"),u.wall&&u.drawSelf("black")}P.splice(0,P.length),I.splice(0,I.length),P.push(S),y=!1,h=!0,s(!0)},q=()=>{N(()=>{}),h=!1};return C("div",{className:"App",children:[f(J,{}),f("div",{className:"canvas-container",children:f("canvas",{id:"canvas",ref:n,width:"500",height:"500"})}),f("hr",{}),f(Q,{pauseControl:s=>{h?(y&&r&&N(()=>{}),h=!1,s(!1)):(h=!0,s(!0))},changeFrameRate:z,nextFrame:()=>{h&&(a=!0,h=!1,setTimeout(()=>{h=!0},M(l)))},clearExecution:N,setAutoplay:s=>{r=!r,y&&(N(s),h=!1,s(!1))},setRandomize:()=>{c=!c}})]})}U.render(f($.StrictMode,{children:f(Z,{})}),document.getElementById("root"));
